<template>
  <div>


    <!-- ‚úÖ Chargement s√©curis√© pour √©viter les bugs -->
    <div v-if="loading">Chargement des h√©ros...</div>
    <div v-else-if="heroes.length > 0">
      <AffichageHero />
      <FightScene />
    </div>
    <p v-else>‚ö†Ô∏è Aucun h√©ros disponible.</p>
  </div>
</template>

<script setup>
import { computed, onMounted } from 'vue';
import { useHeroStore } from '@/stores/HeroStore';
import AffichageHero from '@/components/AffichageHero.vue';
import FightScene from '@/components/FightScene.vue';

const heroStore = useHeroStore();
const heroes = computed(() => heroStore.heroes);
const loading = computed(() => heroStore.loading);

onMounted(() => {
  console.log("üîÑ Chargement des h√©ros...");
  heroStore.fetchHeroes(); // ‚úÖ Nouvelle m√©thode adapt√©e √† la nouvelle API
});
</script>

<style scoped>
h1 {
  text-align: center;
  margin-bottom: 20px;
}
</style>
